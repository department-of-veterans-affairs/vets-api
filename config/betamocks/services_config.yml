---
:services:

# BGS
# FYI: mocks are generally managed in the bgs-ext gem.
- :name: "BGS"
  :base_uri: <%= "#{URI(Settings.bgs.url).host}:#{URI(Settings.bgs.url).port}" %>
  :endpoints:
    - :method: :post
      :path: "/VDC/ManageRepresentativeService"
      :file_path: "/bgs/manage_representative_service/read_poa_request/default"

# BID Awards  
- :name: "BID Awards"
  :base_uri: "bid-api-test.dev.bip.va.gov:443"
  :endpoints:
    - :method: :get
      :path: "/api/v1/awards/pension/*"
      :file_path: "bid/awards/pension/"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/api\/v1\/awards\/pension\/(.+)'

#CRM API GET endpoint
- :name: "CRM API GET endpoint"
  :base_uri: <%= "#{URI(Settings.ask_va_api.crm_api.base_url).host}:#{URI(Settings.ask_va_api.crm_api.base_url).port}" %>
  :endpoints:
    - :method: :get
      :path: <%= "/#{Settings.ask_va_api.crm_api.veis_api_path}/ping" %>
      :file_path: "/ask_va/dynamics_api"
      :response_delay: 15
    - :method: :post
      :path: <%= "/#{Settings.ask_va_api.crm_api.veis_api_path}/inquiries/new" %>
      :file_path: "/ask_va/crm_api/post_inquiries/default"
      :response_delay: 0.3
    ## Travel Pay
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v2/Auth/access-token"
      :file_path: "/travel_pay/btsss_token/default"
      :response_delay: 0.3
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v2/claims/search-by-appointment-date"
      :file_path: "/travel_pay/claims/index/default"
      :response_delay: 0.3
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v2/claims"
      :file_path: "/travel_pay/claims/index/default"
      :response_delay: 0.3
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v2/claims/*/documents"
      :file_path: "/travel_pay/claims/show/docs"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v2\/claims\/(.+)\/documents'
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v2/claims/[0-9a-fA-F-]{36}"
      :file_path: "/travel_pay/claims/show"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v2\/claims\/(.+)'
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v2/appointments"
      :file_path: "/travel_pay/appointments/default"
      :response_delay: 0.3
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v2/appointments/find-or-add"
      :file_path: "/travel_pay/appointments/default"
      :response_delay: 0.3
    - :method: :patch
      :path: "/eis/api/btsss/travelclaim/api/v2/claims/*/submit"
      :file_path: "/travel_pay/claims/submit"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v2\/claims\/(.+)\/submit'
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v2/claims"
      :file_path: "/travel_pay/claims/create/default"
      :response_delay: 0.3
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v2/claims/*/documents/*"
      :file_path: "/travel_pay/documents/get"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v2\/claims\/(.+)\/documents\/(.+)'
      :response_delay: 0.3
    ## Mileage Expenses
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v2/expenses/mileage"
      :file_path: "/travel_pay/expenses/default"
      :response_delay: 0.3
    ## Other Expenses
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/other"
      :file_path: "/travel_pay/expenses/other/create"
      :response_delay: 0.3
    ## Common Carrier Expenses
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/commoncarrier"
      :file_path: "/travel_pay/expenses/commoncarrier/create"
      :response_delay: 0.3
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/commoncarrier/*"
      :file_path: "/travel_pay/expenses/commoncarrier/get"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v1\/expenses\/commoncarrier\/(.+)'
      :response_delay: 0.3
    - :method: :patch
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/commoncarrier/*"
      :file_path: "/travel_pay/expenses/commoncarrier/patch"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v1\/expenses\/commoncarrier\/(.+)'
      :response_delay: 0.3
    ## Airtravel Expenses
    - :method: :post
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/airtravel"
      :file_path: "/travel_pay/expenses/airtravel/create"
      :response_delay: 0.3
    - :method: :get
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/airtravel/*"
      :file_path: "/travel_pay/expenses/airtravel/get"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v1\/expenses\/airtravel\/(.+)'
      :response_delay: 0.3
    - :method: :patch
      :path: "/eis/api/btsss/travelclaim/api/v1/expenses/airtravel/*"
      :file_path: "/travel_pay/expenses/airtravel/patch"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/eis\/api\/btsss\/travelclaim\/api\/v1\/expenses\/airtravel\/(.+)'
      :response_delay: 0.3

#CRM Token post
- :name: "CRM VEIS Auth Service"
  :base_uri: <%= "#{URI(Settings.ask_va_api.crm_api.auth_url).host}:#{URI(Settings.ask_va_api.crm_api.auth_url).port}" %>
  :endpoints:
    - :method: :post
      :path: <%= "/#{Settings.ask_va_api.crm_api.tenant_id}/oauth2/v2.0/token" %>
      :file_path: "/ask_va/token/default"
      :response_delay: 0.3
    - :method: :post
      :path: <%= "/#{Settings.travel_pay.veis.tenant_id}/oauth2/token" %>
      :file_path: "/travel_pay/token/default"
      :response_delay: 0.3

- :name: 'carma'
  :base_uri: <%= "#{URI(Settings['salesforce-carma'].url).host}:#{URI(Settings['salesforce-carma'].url).port}" %>
  :endpoints:
  - :method: :post
    :path: "/services/oauth2/token"
    :file_path: "carma/oauth"
  - :method: :post
    :path: "/services/apexrest/carma/v1/1010-cg-submissions"
    :file_path: "carma/create"
  - :method: :post
    :path: "/services/data/v47.0/composite/tree/ContentVersion"
    :file_path: "carma/attachment"

- :name: 'DMC'
  :base_uri: <%= "#{URI(Settings.dmc.url).host}:#{URI(Settings.dmc.url).port}" %>
  :endpoints:
  - :method: :post
    :path: "/api/v1/digital-services/debt-letter/get"
    :file_path: "debts/index"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'fileNumber":"(\w+)"'
      :optional_code_locator: '"countOnly":(true|false)'
  - :method: :post
    :path: "/api/v1/digital-services/financial-status-report/formtopdf"
    :file_path: "debt_management_center/financial_status_reports/create"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'fileNumber":"(\w+)"'
  - :method: :post
    :path: "/api/v1/digital-services/dispute-debt"
    :file_path: "debt_management_center/digital_dispute/create"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'fileNumber":"(\w+)"'

- :name: 'VBS'
  :base_uri: <%= "#{URI(Settings.mcp.vbs_v2.url).host}:#{URI(Settings.mcp.vbs_v2.url).port}" %>
  :endpoints:
  - :method: :post
    :path: "/vbsapi/GetStatementsByEDIPIAndVistaAccountNumber"
    :file_path: "vbs/index"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id'
  - :method: :post
    :path: "/vbsapi/UploadFSRJsonDocument"
    :file_path: "vbs/fsr"

- :name: 'VHA'
  :base_uri: <%= "#{URI('https://' + Settings.vha.sharepoint.sharepoint_url).host}:#{URI('https://' + Settings.vha.sharepoint.sharepoint_url).port}" %>
  :endpoints:
  - :method: :post
    :path: <%= "/#{Settings.vha.sharepoint.base_path}/_api/Web/GetFolderByServerRelativeUrl('#{Settings.vha.sharepoint.base_path}/Submissions')/Files/*" %>
    :file_path: "vha/sharepoint/create"
  - :method: :post
    :path: <%= "/#{Settings.vha.sharepoint.base_path}/_api/Web/Lists/GetByTitle('Submissions')/items/*" %>
    :file_path: "vha/sharepoint/create"
  - :method: :get
    :path: "/_api/Web/*"
    :file_path: "vha/sharepoint/show"

- :name: 'ACS'
  :base_uri: <%= "#{URI(Settings.vha.sharepoint.authentication_url).host}:#{URI(Settings.vha.sharepoint.authentication_url).port}" %>
  :endpoints:
  - :method: :post
    :path: <%= "/#{Settings.vha.sharepoint.tenant_id}/tokens/OAuth/2" %>
    :file_path: "vha/sharepoint/authenticate"

- :name: 'MDOT'
  :base_uri: <%= "#{URI(Settings.mdot.url).host}:#{URI(Settings.mdot.url).port}" %>
  :endpoints:
  - :method: :get
    :path: "/supplies"
    :file_path: "mdot/supplies/index"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_veteran_id'
  - :method: :post
    :path: "/supplies"
    :file_path: "mdot/supplies/create"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'vaapikey'

- :name: 'MHV UserAccount Creation'
  :base_uri: <%= "#{URI(IdentitySettings.mhv.account_creation.host).host}:#{URI(IdentitySettings.mhv.account_creation.host).port}" %>
  :endpoints:
  - :method: :post
    :path: '/v1/usermgmt/account-service/account'
    :file_path: 'mhv/account_creation/create_account/default'

- :name: 'MHV_Rx'
  :base_uri: <%= "#{URI(Settings.mhv.rx.host).host}:#{URI(Settings.mhv.rx.host).port}" %>
  :endpoints:
    # data classes
    - :method: :get
      :path: "/mhv-api/patient/v1/bluebutton/geteligibledataclass"
      :file_path: "mhv/bluebutton/geteligibledataclass"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'Token'
    # MHV rx active
    - :method: :get
      :path: "/v1/pharmacy/ess/getactiverx"
      :file_path: "mhv/prescription/getactiverx"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'Token'
    # MHV rx medications
    - :method: :get
      :path: "/v1/pharmacy/ess/medications"
      :file_path: "mhv/prescription/medications"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'Token'
    # MHV rx history
    - :method: :get
      :path: "/v1/pharmacy/ess/gethistoryrx"
      :file_path: "mhv/prescription/gethistoryrx"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'Token'
    # MHV Session
    - :method: :get
      :path: "/mhv-api/patient/v1/session"
      :file_path: "mhv/session"
      :cache_multiple_responses:
        :uid_location: 'header'
        :uid_locator: 'mhvCorrelationId'
    # MHV rx refill
    - :method: :post
      :path: "/v1/pharmacy/ess/rxrefill/*"
      :file_path: "mhv/prescription/rxrefill"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/rxrefill\/(.+)'
    # SM Session
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/session"
      :file_path: "mhv/session"
      :cache_multiple_responses:
        :uid_location: 'header'
        :uid_locator: 'mhvCorrelationId'
    # SM Folders
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/folder"
      :file_path: "mhv/secure_messaging/folders"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'Token'
    # SM Folder/*
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/folder/*"
      :file_path: "mhv/secure_messaging/folder"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/folder\/(.+)'
    # SM Recipients
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/triageteam"
      :file_path: "mhv/secure_messaging/triageteam"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'Token'
    # SM Folder messages
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/folder/*/message/page/*/pageSize/*"
      :file_path: "mhv/secure_messaging/folder_messages"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/folder\/(.+)\/message'
    # SM messages
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/message/*/read"
      :file_path: "mhv/secure_messaging/messages"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/message\/(.+)\/read'
    # SM thread
    - :method: :get
      :path: "/mhv-sm-api/patient/v1/message/*/history"
      :file_path: "mhv/secure_messaging/history"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/message\/(.+)\/history'
    # MHV account create
    - :method: :post
      :path: '/mhv-api/patient/v1/account/register'
      :file_path: 'mhv/account/register'
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'icn":"(\w+)"'
    # MHV account upgrade
    - :method: :post
      :path: '/mhv-api/patient/v1/account/upgrade'
      :file_path: 'mhv/account/upgrade'
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'userId":(\d+)'
    # MHV correlation id
    - :method: :get
      :path: '/validmhvid/*'
      :file_path: 'mhv/correlation_id'
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/validmhvid\/(.+)'
    # MHV  id
    - :method: :get
      :path: '/mhvacctinfo/*'
      :file_path: 'mhv/account_info'
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/mhvacctinfo\/(.+)'

# EVSS
- :name: 'EVSS'
  :base_uri: <%= "#{URI(Settings.evss.url).host}:#{URI(Settings.evss.url).port}" %>
  :endpoints:

  # Intent To File
  - :method: :get
    :path: "/wss-intenttofile-services-web/rest/intenttofile/v1"
    :file_path: "evss/itf/all_itf"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :get
    :path: "/wss-intenttofile-services-web/rest/intenttofile/v1/compensation/active"
    :file_path: "evss/itf/active_itf"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :post
    :path: "/wss-intenttofile-services-web/rest/intenttofile/v1/compensation"
    :file_path: "evss/itf/post_itf"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'

  # Disability Compensation Form
  - :method: :get
    :path: "/wss-form526-services-web/rest/form526/v1/ratedDisabilities"
    :file_path: "evss/disability_form/rated_disabilities"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :get
    :path: "/wss-form526-services-web-v2/rest/form526/v2/ratedDisabilities"
    :file_path: "evss/disability_form/rated_disabilities"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :post
    :path: <%= "/#{Settings.evss.alternate_service_name}/rest/form526/v2/submit" %>
    :file_path: "evss/disability_form/form526"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :post
    :path: <%= "/#{Settings.evss.alternate_service_name}/rest/form526/v2/validate" %>
    :file_path: "evss/disability_form/form526_validate"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :post
    :path: <%= "/#{Settings.evss.alternate_service_name}/rest/form526/v2/getPDF" %>
    :file_path: "evss/disability_form/getPDF"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :post
    :path: <%= "/wss-common-services-web-#{Settings.evss.versions.common}/rest/ratingInfoService/#{Settings.evss.versions.common}/findRatingInfoPID" %>
    :file_path: "evss/disability_form/rating_info"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :get
    :path: "/wss-referencedata-services-web/rest/referencedata/v1/intakesites"
    :file_path: "evss/reference_data/intakesites"
  - :method: :get
    :path: "/wss-referencedata-services-web/rest/referencedata/v1/countries"
    :file_path: "evss/reference_data/countries"

  # Letters
  - :method: :get
    :path: "/wss-lettergenerator-services-web/rest/letters/v1"
    :file_path: "evss/letters/list"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :get
    :path: "/wss-lettergenerator-services-web/rest/letters/v1/letterBeneficiary"
    :file_path: "evss/letters/beneficiary"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :get
    :path: "/wss-lettergenerator-services-web/rest/letters/v1/*"
    :file_path: "evss/letters/download_pdf"
    :cache_multiple_responses:
      :uid_location: "url"
      :uid_locator: "\/wss-lettergenerator-services-web/rest/letters/v1\/(.+)"
  - :method: :post
    :path: "/wss-lettergenerator-services-web/rest/letters/v1/*/generate"
    :file_path: "evss/letters/download_pdf"
    :cache_multiple_responses:
      :uid_location: "url"
      :uid_locator: "\/wss-lettergenerator-services-web/rest/letters/v1\/(.+)\/generate"

  # Claims
  - :method: :get
    :path: <%= "/wss-claims-services-web-#{Settings.evss.versions.claims}/rest/vbaClaimStatusService/getClaims" %>
    :file_path: "evss/claims/index"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'

  - :method: :post
    :path: <%= "/wss-claims-services-web-#{Settings.evss.versions.claims}/rest/vbaClaimStatusService/getClaimDetailById" %>
    :file_path: "evss/claims/show"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'

# EVSS Container
- :name: 'EVSS Container'
  :base_uri: <%= "#{URI(Settings.evss.dvp.url).host}:#{URI(Settings.evss.dvp.url).port}" %>
  :endpoints:
  # Disability Compensation Form
  - :method: :post
    :path: <%= "/#{Settings.evss.service_name}/rest/form526/v2/submit" %>
    :file_path: "evss_container/disability_form/form526"
    :symbolize_response: true
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'
  - :method: :post
    :path: <%= "/#{Settings.evss.service_name}/rest/form526/v2/validate" %>
    :file_path: "evss_container/disability_form/form526_validate"
    :symbolize_response: true
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: 'va_eauth_pnid'

# MVI
- :name: 'MVI'
  :base_uri: <%= "#{URI(IdentitySettings.mvi.url).host}:#{URI(IdentitySettings.mvi.url).port}" %>
  :endpoints:
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/profile"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: '(?:root="2.16.840.1.113883.4.1" )?extension="(\d{9})"(?: root="2.16.840.1.113883.4.1")?'
      :optional_code_locator: 'modifyCode code="(MVI\.COMP1\.RMS|MVI\.COMP2)"'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/profile_icn"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id extension="([V0-9]*)"(?: root="2.16.840.1.113883.4.349")'
      :optional_code_locator: 'modifyCode code="(MVI\.COMP1\.RMS|MVI\.COMP2)"'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/profile_icn"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )extension="([V0-9]*)"'
      :optional_code_locator: 'modifyCode code="(MVI\.COMP1\.RMS|MVI\.COMP2)"'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/profile_edipi"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: '(?:root="2.16.840.1.113883.3.42.10001.100001.12" )?extension="(\d{10})"(?: root="2.16.840.1.113883.3.42.10001.100001.12")?'
      :optional_code_locator: 'modifyCode code="(MVI\.COMP1\.RMS|MVI\.COMP2)"'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/profile_idme_uuid"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )?extension="(.*)\^PN\^200VIDM\^USDVA\^A"(?:root="2.16.840.1.113883.4.349")?'
      :optional_code_locator: 'modifyCode code="(MVI\.COMP1\.RMS|MVI\.COMP2)"'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/profile_logingov_uuid"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )?extension="(.*)\^PN\^200VLGN\^USDVA\^A"(?:root="2.16.840.1.113883.4.349")?'
      :optional_code_locator: 'modifyCode code="(MVI\.COMP1\.RMS|MVI\.COMP2)"'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/add_person_proxy_icn"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )extension="([V0-9]*\^NI\^200M\^USVHA\^P)"'
      :optional_code_locator: 'PROXY_ADD'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/add_person_implicit_logingov_uuid"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )?extension="(.*)\^PN\^200VLGN\^USDVA\^A"(?:root="2.16.840.1.113883.4.349")?'
      :optional_code_locator: 'PRPA_IN201301UV02'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/add_person_implicit_idme_uuid"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )?extension="(.*)\^PN\^200VIDM\^USDVA\^A"(?:root="2.16.840.1.113883.4.349")?'
      :optional_code_locator: 'PRPA_IN201301UV02'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/update_profile_idme_uuid"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )?extension="(.*)\^PN\^200VIDM\^USDVA\^A"(?:root="2.16.840.1.113883.4.349")?'
      :optional_code_locator: 'PRPA_IN201302UV02'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/update_profile_logingov_uuid"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.4.349" )?extension="(.*)\^PN\^200VLGN\^USDVA\^A"(?:root="2.16.840.1.113883.4.349")?'
      :optional_code_locator: 'PRPA_IN201302UV02'
  - :method: :post
    :path: <%= URI(IdentitySettings.mvi.url).path %>
    :file_path: "mvi/update_profile_edipi"
    :cache_multiple_responses:
      :uid_location: body
      :uid_locator: 'id (?:root="2.16.840.1.113883.3.42.10001.100001.12" )?extension="(.*)\^NI\^200DOD\^USDOD\^A"(?:root="2.16.840.1.113883.3.42.10001.100001.12")?'
      :optional_code_locator: 'PRPA_IN201302UV02'

# Appeals
- :name: 'Caseflow'
  :base_uri: <%= "#{URI(Settings.caseflow.host).host}:#{URI(Settings.caseflow.host).port}" %>
  :endpoints:
  - :method: :get
    :path: "/api/v2/appeals"
    :file_path: "appeals/get_appeals"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: ssn
  - :method: :get
    :path: "/api/v3/decision_reviews/supplemental_claims/contestable_issues/*"
    :file_path: "modules_appeals_api/contestable_issues"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: X-VA-SSN
  - :method: :get
    :path: "/api/v3/decision_reviews/higher_level_reviews/contestable_issues/*"
    :file_path: "modules_appeals_api/contestable_issues"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: X-VA-SSN
  - :method: :get
    :path: "/api/v3/decision_reviews/appeals/contestable_issues"
    :file_path: "modules_appeals_api/notice_of_disagreements/contestable_issues"
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: X-VA-SSN
  - :method: :get
    :path: "/health-check"
    :file_path: "appeals/health-check"
  - :method: :get
    :path: "/api/v3/decision_reviews/legacy_appeals"
    :file_path: modules_appeals_api/get_legacy_appeals
    :cache_multiple_responses:
      :uid_location: header
      :uid_locator: X-VA-SSN

# Search
- :name: 'Search'
  :base_uri: <%= "#{URI(Settings.search.url).host}:#{URI(Settings.search.url).port}" %>
  :endpoints:
  # Search results
  - :method: :get
    :path: "/api/v2/search/i14y"
    :file_path: "search/default"

# Search GSA
- :name: 'Search GSA'
  :base_uri: <%= "#{URI(Settings.search_gsa.url).host}:#{URI(Settings.search_gsa.url).port}" %>
  :endpoints:
  # Search results
  - :method: :get
    :path: "/technology/searchgov/v2/results/i14y"
    :file_path: "search/default"

#VANotify
- :name: 'VANotify'
  :base_uri: <%= "#{URI(Settings.vanotify.client_url).host}:#{URI(Settings.vanotify.client_url).port}" %>
  :endpoints:
    - :method: :post
      :path: "/v2/notifications/email"
      :file_path: "va_notify/email"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'email_address":"(.*?)"'
    - :method: :post
      :path: "/vanotify/v2/notifications/sms"
      :file_path: "va_notify/sms"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'phone_number":"(.*?)"'

#VAOS Appointments Service
- :name: "VAOS Appointments"
  :base_uri: <%= "#{URI(Settings.va_mobile.url).host}:#{URI(Settings.va_mobile.url).port}" %>
  :endpoints:
    - :method: :get
      :path: "/vaos/v1/patients/*/appointments"
      :file_path: "vaos/appointments"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: 'url'
        :uid_locator: '\/vaos\/v1\/patients\/([a-zA-Z0-9]+)\/appointments'
    - :method: :get
      :path: "/vaos/v1/patients/*/appointments/*"
      :file_path: "vaos/appointments/get"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: 'url'
        :uid_locator: '\/vaos\/v1\/patients\/([a-zA-Z0-9]+)\/appointments\/([a-zA-Z0-9]+)'
    - :method: :get
      :path: "/vpg/v1/patients/*/appointments"
      :file_path: "vaos/vpg/appointments"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: 'url'
        :uid_locator: '\/vpg\/v1\/patients\/([a-zA-Z0-9]+)\/appointments'
    - :method: :get
      :path: "/facilities/v2/facilities"
      :file_path: "vaos/facilities"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'ids'
    - :method: :get
      :path: "/facilities/v2/facilities/*"
      :file_path: "vaos/facilities/get"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: 'url'
        :uid_locator: '\/facilities\/v2\/facilities\/([0-9]+)'
    - :method: :get
      :path: "/facilities/v2/facilities/*/clinics/*"
      :file_path: "vaos/clinics"
      :response_delay: 0.3
      :cache_multiple_responses:
        :uid_location: 'url'
        :uid_locator: '\/facilities\/v2\/facilities\/^[0-9]+$\/clinics\/^[0-9]+$'
    - :method: :get
      :path: "/vaos/v1/locations/*/clinics"
      :file_path: "vaos/v1/clinics"
      :response_delay: 0.3
    # Get referral list
    - :method: :get
      :path: "/vaos/v1/patients/*/referrals"
      :file_path: "vaos/referrals/referral_list"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/vaos\/v1\/patients\/(.+)\/referrals'

    # Get referral details
    - :method: :get
      :path: "/vaos/v1/patients/*/referrals/*"
      :file_path: "vaos/referrals/get_referral"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/vaos\/v1\/patients\/(?:.+)\/referrals\/(.+)'

#LoROTA (CheckIn)
- :name: "LoROTA"
  :base_uri: <%= "#{URI(Settings.check_in.lorota_v2.url).host}:#{URI(Settings.check_in.lorota_v2.url).port}" %>
  :endpoints:
    - :method: :post
      :path: <%= "/#{Settings.check_in.lorota_v2.base_path}/token" %>
      :file_path: "/lorota/token"
      :response_delay: 0.2
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'dob":[\s]*"\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])"'
    - :method: :get
      :path: <%= "/#{Settings.check_in.lorota_v2.base_path}/data/*" %>
      :file_path: "/lorota/data"
      :response_delay: 0.2
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/data\/(.+)'

#CheckIn Travel Claim VEIS Auth (BTSSS)
- :name: "Travel Claim VEIS Auth Service"
  :base_uri: <%= "#{URI(Settings.check_in.travel_reimbursement_api_v2.auth_url).host}:#{URI(Settings.check_in.travel_reimbursement_api_v2.auth_url).port}" %>
  :endpoints:
    - :method: :post
      :path: <%= "/#{Settings.check_in.travel_reimbursement_api_v2.tenant_id}/oauth2/v2.0/token" %>
      :file_path: "/travel_claim/v0/token/default"
      :response_delay: 0.3
    - :method: :post
      :path: <%= "/#{Settings.check_in.travel_reimbursement_api_v2.tenant_id}/oauth2/token" %>
      :file_path: "/travel_claim/v1/token/default"
      :response_delay: 0.3

#CheckIn Travel Claim Service (BTSSS)
- :name: "CheckIn Travel Claim Service"
  :base_uri: <%= "#{URI(Settings.check_in.travel_reimbursement_api_v2.claims_url).host}:#{URI(Settings.check_in.travel_reimbursement_api_v2.claims_url).port}" %>
  :endpoints:
    - :method: :post
      :path: <%= "/#{Settings.check_in.travel_reimbursement_api_v2.claims_base_path}/api/ClaimIngest/submitclaim" %>
      :file_path: "/travel_claim/v0/submitclaim/default"
      :response_delay: 0.3
    - :method: :post
      :path: <%= "/#{Settings.check_in.travel_reimbursement_api_v2.claims_base_path}/api/ClaimIngest/V1/GetClaimsStatus" %>
      :file_path: "/travel_claim/v0/claimstatus/default"
      :response_delay: 0.3
    - :method: :post
      :path: "/api/v4/auth/system-access-token"
      :file_path: "/travel_claim/v1/btsss_token/default"
      :response_delay: 0.3
    - :method: :get
      :path: "/api/v3/claims"
      :file_path: "/travel_claim/claims/index/default"
      :response_delay: 0.3
    - :method: :post
      :path: "/api/v3/appointments/find-or-add"
      :file_path: "/travel_claim/v1/appointments/default"
      :response_delay: 0.3
    - :method: :patch
      :path: "/api/v3/claims/*/submit"
      :file_path: "/travel_claim/v1/claims/submit/default"
      :response_delay: 0.3
    - :method: :post
      :path: "/api/v3/claims"
      :file_path: "/travel_claim/v1/claims/create/default"
      :response_delay: 0.3
    - :method: :post
      :path: "/api/v3/expenses/mileage"
      :file_path: "/travel_claim/v1/expenses/create/default"
      :response_delay: 0.3

#CHIP
- :name: "CHIP"
  :base_uri: <%= "#{URI(Settings.chip.url).host}:#{URI(Settings.chip.url).port}" %>
  :endpoints:
    - :method: :post
      :path: <%= "/#{Settings.chip.base_path}/token" %>
      :file_path: "/chip/token/default"
      :response_delay: 0.2
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/initiate-check-in/*" %>
      :file_path: "/chip/initiate-check-in/default"
      :response_delay: 10
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/check-in/*" %>
      :file_path: "/chip/check-in/default"
      :response_delay: 5
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/refresh-appointments/*" %>
      :file_path: "/chip/refresh-appointments/default"
      :response_delay: 2
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/pre-checkin/*" %>
      :file_path: "/chip/pre-checkin/default"
      :response_delay: 2
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/confirm-demographics" %>
      :file_path: "/chip/confirm-demographics/default"
      :response_delay: 1
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/set-precheckin-started/*" %>
      :file_path: "/chip/set-precheckin-started/default"
      :response_delay: 2
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/refresh-precheckin/*" %>
      :file_path: "/chip/refresh-precheckin/default"
      :response_delay: 4
    - :method: :post
      :path: <%= "/#{Settings.chip.base_path}/actions/authenticated-checkin" %>
      :file_path: "/chip/authenticated-check-in/default"
      :response_delay: 4
    - :method: :delete
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/deleteFromLorota/*" %>
      :file_path: "/chip/deleteFromLorota/default"
      :response_delay: 4
    - :method: post
      :path: <%= "/#{Settings.chip.base_path}/actions/authenticated-demographics" %>
      :file_path: "/chip/update-demographics/default"
      :response_delay: 4
    - :method: :post
      :path: <%= "/#{Settings.check_in.chip_api_v2.base_path}/actions/set-e-check-in-started" %>
      :file_path: "/chip/set-echeckin-started/default"
      :response_delay: 2

# LGY: Certificate of Eligibility
- :name: "LGY"
  :base_uri: <%= "#{URI(Settings.lgy.base_url).host}:#{URI(Settings.lgy.base_url).port}" %>
  :endpoints:
    - :method: :get
      :path: "/eligibility-manager/api/eligibility/application"
      :file_path: "/lgy/get_application"
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'edipi'
    - :method: :put
      :path: "/eligibility-manager/api/eligibility/application"
      :file_path: "/lgy/put_application"
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'edipi'
    - :method: :get
      :path: "/eligibility-manager/api/eligibility/determination"
      :file_path: "/lgy/get_determination"
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'edipi'
    - :method: :get
      :path: "/eligibility-manager/api/eligibility/documents"
      :file_path: "/lgy/get_documents"
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'edipi'
    - :method: :post
      :path: "/eligibility-manager/api/eligibility/document"
      :file_path: "/lgy/post_document"
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'edipi'
    - :method: :get
      :path: "/eligibility-manager/api/eligibility/document/*/file"
      :file_path: "/lgy/get_document_download"
      :cache_multiple_responses:
        :uid_location: 'url'
        :uid_locator: '\/eligibility-manager/api/eligibility/document\/(.+)\/file'
    - :method: :get
      :path: "/eligibility-manager/api/eligibility/documents/coe/file"
      :file_path: "/lgy/get_coe_file"
      :cache_multiple_responses:
        :uid_location: 'query'
        :uid_locator: 'edipi'

# Lighthouse
- :name: "Lighthouse"
  :base_uri: <%= "#{URI(Settings.lighthouse.benefits_claims.host).host}:#{URI(Settings.lighthouse.benefits_claims.host).port}" %>
  :endpoints:
    # Benefits Claims API
    - :method: :get
      :path: "/services/claims/v2/veterans/*/claims"
      :file_path: "/lighthouse/benefits_claims/index"
      :cache_multiple_responses:
        :uid_location: "url"
        :uid_locator: "\/services/claims/v2/veterans\/(.+)\/claims"
    - :method: :get
      :path: "/services/claims/v2/veterans/*/claims/*"
      :file_path: "/lighthouse/benefits_claims/show"
      :cache_multiple_responses:
        :uid_location: "url"
        :uid_locator: "\/services/claims/v2/veterans\/(?:.+)\/claims\/(.+)"
    - :method: :post
      :path: "/services/claims/v2/veterans/*/claims/*/5103"
      :file_path: "/lighthouse/benefits_claims/submit_5103"
      :cache_multiple_responses:
        :uid_location: "url"
        :uid_locator: "\/services/claims/v2/veterans\/(?:.+)\/claims\/(.+)/5103"
    # Benefits Documents API
    - :method: :post
      :path: "/services/benefits-documents/v1/documents"
      :file_path: "/lighthouse/claims_api/benefits_documents/upload"
    - :method: :post
      :path: "/services/benefits-documents/v1/documents/search"
      :file_path: "/lighthouse/claims_api/benefits_documents/search/default"
    # Service History and Eligibility API V2
    - :method: :get
      :path: "/services/veteran_verification/v2/disability_rating/*"
      :file_path: "/lighthouse/veteran_verification/rated_disabilities"
      :cache_multiple_responses:
        :uid_location: "url"
        :uid_locator: "\/services/veteran_verification/v2/disability_rating\/(.+)"
    # Benefits Education
    - :method: :get
      :path: '/services/benefits-education/v1/education/chapter33'
      :file_path: "/lighthouse/benefits_education"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "icn"
    # Patient Health API
    - :method: :post
      :path: "/oauth2/health/system/v1/token"
      :file_path: "/lighthouse/veterans_health/token"
    - :method: :get
      :path: "/services/fhir/v0/r4/AllergyIntolerance/*"
      :file_path: "/lighthouse/veterans_health/AllergyIntolerance/show"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: "\/services\/fhir\/v0\/r4\/AllergyIntolerance\/(.*)"
    - :method: :get
      :path: "/services/fhir/v0/r4/Immunization"
      :file_path: "/lighthouse/veterans_health/Immunization/index"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: patient
    - :method: :get
      :path: "/services/fhir/v0/r4/AllergyIntolerance"
      :file_path: "/lighthouse/veterans_health/AllergyIntolerance/index"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: patient
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/ChargeItem"
      :file_path: "/lighthouse/health_care_costs_and_coverage/charge_item"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: patient
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Encounter"
      :file_path: "/lighthouse/health_care_costs_and_coverage/encounter"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: patient
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Invoice"
      :file_path: "/lighthouse/health_care_costs_and_coverage/invoice"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: patient
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/MedicationDispense"
      :file_path: "/lighthouse/health_care_costs_and_coverage/medication_dispense"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: _id
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Organization"
      :file_path: "/lighthouse/health_care_costs_and_coverage/organization/default"
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Patient"
      :file_path: "/lighthouse/health_care_costs_and_coverage/patient"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: _id
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/PaymentReconciliation"
      :file_path: "/lighthouse/health_care_costs_and_coverage/payment_reconciliation"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: patient
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Invoice/*"
      :file_path: "/lighthouse/health_care_costs_and_coverage/invoice_detail"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/Invoice\/(.+)'
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Account"
      :file_path: "/lighthouse/health_care_costs_and_coverage/account"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: _id
    - :method: :get
      :path: "/services/health-care-costs-coverage/v0/r4/Medication"
      :file_path: "/lighthouse/health_care_costs_and_coverage/medication"
      :cache_multiple_responses:
        :uid_location: query
        :uid_locator: _id

# EPS (Enhanced Patient Services) API
- :name: "EPS API"
  :base_uri: <%= "#{URI(Settings.vaos.eps.api_url).host}:#{URI(Settings.vaos.eps.api_url).port}" %>
  :endpoints:
    # Get a provider's service details
    - :method: :get
      :path: "/care-navigation/v1/provider-services"
      :file_path: "vaos/eps/providers/get_provider_services/default"
    - :method: :get
      :path: "/care-navigation/v1/provider-services/*"
      :file_path: "vaos/eps/providers/get_provider_services"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/care-navigation\/v1\/provider-services\/(.+)'

    # Get list of appointments
    - :method: :get
      :path: "/care-navigation/v1/appointments"
      :file_path: "vaos/eps/appointments/get_appointments/default"

    # Get appointment details
    - :method: :get
      :path: "/care-navigation/v1/appointments/*"
      :file_path: "vaos/eps/appointments/get_appointment"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/care-navigation\/v1\/appointments\/(.+)'

    # Get provider service slots
    - :method: :get
      :path: "/care-navigation/v1/provider-services/*/slots"
      :file_path: "vaos/eps/providers/get_provider_slots"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/care-navigation\/v1\/provider-services\/(.+)\/slots'

    # Create draft appointment
    - :method: :post
      :path: "/care-navigation/v1/appointments"
      :file_path: "vaos/eps/appointments/create_draft_appointment"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'referralNumber":"(\w+)"'

    # Submit appointment
    - :method: :post
      :path: "/care-navigation/v1/appointments/*/submit"
      :file_path: "vaos/eps/appointments/submit_appointment"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/care-navigation\/v1\/appointments\/(.+)\/submit'

# Lighthouse Benefits Documents API
- :name: "Lighthouse Benefits Documents"
  :base_uri: <%= "#{URI(Settings.lighthouse.benefits_documents.host).host}:#{URI(Settings.lighthouse.benefits_documents.host).port}" %>
  :endpoints:
    - :method: :post
      :path: "/benefits-documents/v1/documents"
      :file_path: "/lighthouse/benefits_documents"

# After Visit Summary API
- :name: "AVS"
  :base_uri: <%= "#{URI(Settings.avs.url).host}:#{URI(Settings.avs.url).port}" %>
  :endpoints:
    - :method: :get
      :path: "/avs-by-appointment/*/*"
      :file_path: "/avs/index"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator:  '\/avs-by-appointment\/(.*)'
    - :method: :get
      :path: "/avs/*"
      :file_path: "/avs/show"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator:  '\/avs\/(.*)'

# Security Token Service API
- :name: "MAP STS"
  :base_uri: <%= "#{URI(IdentitySettings.map_services.oauth_url).host}:#{URI(IdentitySettings.map_services.oauth_url).port}" %>
  :endpoints:
    - :method: :post
      :path: "/sts/oauth/v1/token"
      :file_path: "map/secure_token_service/token"
    - :method: :get
      :path: "/sts/oauth/v1/jwks"
      :file_path: "map/secure_token_service/jwks"

# Sign Up Service Terms API
- :name: "MAP SUS"
  :base_uri: <%= "#{URI(IdentitySettings.map_services.sign_up_service_url).host}:#{URI(IdentitySettings.map_services.sign_up_service_url).port}" %>
  :endpoints:
    - :method: :get
      :path: "/signup/v1/patients/*/status/summary"
      :file_path: "map/sign_up_service/status"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/signup\/v1\/patients\/([V0-9]*)/status\/summary'
    - :method: :post
      :path: "/signup/v1/patients/*/agreements"
      :file_path: "map/sign_up_service/agreements_accept"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/signup\/v1\/patients\/([V0-9]*)\/agreements'
    - :method: :delete
      :path: "/signup/v1/patients/*/agreements"
      :file_path: "map/sign_up_service/agreements_delete"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/signup\/v1\/patients\/([V0-9]*)\/agreements'
    - :method: :put
      :path: "/signup/v1/patients/*/provisioning/cerner"
      :file_path: "map/sign_up_service/update_provisioning"
      :cache_multiple_responses:
        :uid_location: url
        :uid_locator: '\/signup\/v1\/patients\/([V0-9]*)\/provisioning\/cerner'

# VA Profile (formerly known as Vet360)
- :name: "VA Profile"
  :base_uri: <%= "#{URI(Settings.vet360.url).host}:#{URI(Settings.vet360.url).port}" %>
  :endpoints:
    - :method: :get
      :path: "/demographics/demographics/v1/*/*"
      :file_path: "vet360/demographics/default"
    - :method: :post
      :path: "/profile-service/profile/v3/*/*"
      :file_path: "vet360/profile-service/default"
    - :method: :get
      :path: "/contact-information-hub/contact-information/v2/*/*"
      :file_path: "vet360/contact_information_hub/default"

# MHV Unified Health Data security service
- :name: "MHV UHD Security"
  :base_uri: <%= "#{URI(Settings.mhv.uhd.security_host).host}:#{URI(Settings.mhv.uhd.security_host).port}" %>
  :endpoints:
    - :method: :post
      :path: "/mhvapi/security/v1/login"
      :file_path: "mhv/uhd/security-service/default"

# MHV Unified Health Data service
- :name: "MHV UHD"
  :base_uri: <%= "#{URI(Settings.mhv.uhd.host).host}:#{URI(Settings.mhv.uhd.host).port}" %>
  :endpoints:
    - :method: :get
      :path: "/v1/medicalrecords/allergies"
      :file_path: "mhv/uhd/allergies"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "patientId"
    - :method: :get
      :path: "/v1/medicalrecords/labs"
      :file_path: "mhv/uhd/labs"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "patient-id"
    - :method: :get
      :path: "/v1/medicalrecords/conditions"
      :file_path: "mhv/uhd/conditions"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "patientId"
    - :method: :get
      :path: "/v1/medicalrecords/notes"
      :file_path: "mhv/uhd/notes"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "patient-id"
    - :method: :get
      :path: "/v1/medicalrecords/vitals"
      :file_path: "mhv/uhd/vitals"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "patient-id"
    - :method: :get
      :path: "/v1/medicalrecords/ccd"
      :file_path: "mhv/uhd/ccd"
      :cache_multiple_responses:
        :uid_location: "query"
        :uid_locator: "patientId"

# VRE
- :name: "VRE"
  :base_uri: <%= "#{URI(Settings.res.base_url).host}:#{URI(Settings.res.base_url).port}" %>
  :endpoints:
    - :method: :post
      :path: "/suite/webapi/chapter31-eligibility-details-search"
      :file_path: "vre/ch31_eligibility"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'icn":"(\w+)"'
    - :method: :post
      :path: "/suite/webapi/get-ch31-case-details"
      :file_path: "vre/ch31_case_details"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'icn":"(\w+)"'
    - :method: :post
      :path: "/suite/webapi/update-ch3-milestone-status"
      :file_path: "vre/ch31_case_milestones"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'icn":"(\w+)"'

# SOB/DGI
- :name: "SOB"
  :base_uri: <%= "#{URI(Settings.dgi.sob.claimants.url).host}:#{URI(Settings.dgi.sob.claimants.url).port}" %>
  :endpoints:
    - :method: :post
      :path: "/external-api-service/api/v1/claimants"
      :file_path: "dgi/sob"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'ssn":"(\w+)"'

# VASS Auth Service
- :name: "VASS Auth Service"
  :base_uri: <%= "#{URI(Settings.vass.auth_url).host}:#{URI(Settings.vass.auth_url).port || 443}" %>
  :endpoints:
    - :method: :post
      :path: <%= "/#{Settings.vass.tenant_id}/oauth2/v2.0/token" %>
      :file_path: "/vass/oauth_token/default"

# VASS API
- :name: "VASS API"
  :base_uri: <%= "#{URI(Settings.vass.api_url).host}:#{URI(Settings.vass.api_url).port || 443}" %>
  :endpoints:
    - :method: :post
      :path: "/api/AppointmentAvailability"
      :file_path: "/vass/appointment_availability/default"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'veteranId":"([^"]+)"'
    - :method: :post
      :path: "/api/CancelAppointment"
      :file_path: "/vass/cancel_appointment/default"
    - :method: :get
      :path: "/api/GetAgentSkills"
      :file_path: "/vass/agent_skills/default"
    - :method: :get
      :path: "/api/GetVeteran"
      :file_path: "/vass/get_veteran"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'veteranId'
    - :method: :get
      :path: "/api/GetVeteranAppointment"
      :file_path: "/vass/get_veteran_appointment"
      :cache_multiple_responses:
        :uid_location: header
        :uid_locator: 'appointmentId'
    - :method: :post
      :path: "/api/GetVeteranAppointments"
      :file_path: "/vass/get_veteran_appointments"
      :cache_multiple_responses:
        :uid_location: body
        :uid_locator: 'veteranId":"([^"]+)"'
    - :method: :post
      :path: "/api/SaveAppointment"
      :file_path: "/vass/save_appointment/default"