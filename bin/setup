#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative 'lib/vets-api/commands/setup'
require 'rake'

option = ARGV.first
if ARGV.include?('--help') || ARGV.include?('-h')
  puts <<~HELP
    Usage:
      bin/setup [option]
    Options:
      --help, -h            Display help message for 'setup'
      --native              Setup native developer environment
      --docker              Setup Docker developer environment
      --hybrid              Setup hybrid developer environment
      --base                Setup local settings and Sidekiq Enterprise
    Examples:
      bin/setup --help      Show help message
      bin/setup --docker    Setup Docker developer environment
      bin/setup --base      This is useful for those running Linux or Windows
  HELP
elsif ['--native', '--docker', '--hybrid', '--base'].include?(option)
  VetsApi::Commands::Setup.run(ARGV)
else
  puts "Invalid option \"#{option || 'NULL'}\". Use \"--help\" for usage information."
end
