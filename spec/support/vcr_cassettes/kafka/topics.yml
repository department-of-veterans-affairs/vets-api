---
http_interactions:
- request:
    method: get
    uri: http://localhost:8081/ves-event-bus-infra/schema-registry/subjects/submission_trace_form_status_change-value/versions/latest
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - Vets.gov Agent
      Referer:
      - https://review-instance.va.gov
      X-Vamf-Jwt:
      - stubbed_token
      X-Request-Id:
      - ''
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Aug 2021 15:55:41 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Server:
      - openresty
      X-Vamf-Version:
      - 1.9.0
      B3:
      - e1836f37ef12a997-bd3cba28a9b29067-1
      Access-Control-Allow-Headers:
      - x-vamf-jwt
      X-Vamf-Build:
      - e208742
      X-Vamf-Timestamp:
      - '2021-08-03T18:59:01+0000'
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET,OPTIONS
      Access-Control-Max-Age:
      - '3600'
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: "{
                  \"subject\": \"submission_trace_form_status_change-value\",
                  \"version\": 1,
                  \"id\": 7,
                  \"schema\": \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"SubmissionTrace\\\",\\\"namespace\\\":\\\"gov.va.submissiontrace.form.data\\\",\\\"fields\\\":[{\\\"name\\\":\\\"priorId\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"ID that represents a unique identifier from an upstream system\\\"},{\\\"name\\\":\\\"currentId\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"ID that represents a unique identifier in the current system\\\"},{\\\"name\\\":\\\"nextId\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"ID that represents a unique identifier in the downstream system\\\"},{\\\"name\\\":\\\"icn\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"Unique Veteran ID to identify the Veteran independently of other IDs provided\\\"},{\\\"name\\\":\\\"vasiId\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"ID that represents a unique identifier in the Veteran Affairs Systems Inventory (VASI)\\\"},{\\\"name\\\":\\\"systemName\\\",\\\"type\\\":[{\\\"type\\\":\\\"enum\\\",\\\"name\\\":\\\"SystemName\\\",\\\"symbols\\\":[\\\"Lighthouse\\\",\\\"CMP\\\",\\\"VBMS\\\",\\\"VA_gov\\\",\\\"VES\\\"]}],\\\"doc\\\":\\\"System submitting status update, e.g. va.gov\\\"},{\\\"name\\\":\\\"submissionName\\\",\\\"type\\\":[{\\\"type\\\":\\\"enum\\\",\\\"name\\\":\\\"SubmissionName\\\",\\\"symbols\\\":[\\\"F1010EZ\\\",\\\"F527EZ\\\"]}],\\\"doc\\\":\\\"Name of form that is submitted; this should be the same across systems\\\"},{\\\"name\\\":\\\"state\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"What triggered the event, mostly limited to 'received', 'sent', 'error', or 'completed' but can take other values\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"Current datetime in JS standard format ISO 8601\\\"},{\\\"name\\\":\\\"additionalIds\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"array\\\",\\\"items\\\":\\\"string\\\"}],\\\"doc\\\":\\\"(Optional) for cases when more than one current ID is appropriate\\\"},{\\\"name\\\":\\\"context\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"Context\\\",\\\"fields\\\":[{\\\"name\\\":\\\"note\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"(Optional) Explanatory note about the event\\\"},{\\\"name\\\":\\\"qualifiedIdentifiers\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"QualifiedIdentifier\\\",\\\"fields\\\":[{\\\"name\\\":\\\"system\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"System that is connected to the given ID\\\"},{\\\"name\\\":\\\"subSystem\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"(Optional) Subsystem that is connected to the given ID\\\"},{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"ID value. This should correspond to either the priorId, currentId, nextId, or one of the additionalIds\\\"},{\\\"name\\\":\\\"type\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"(Optional) Identifier type\\\"}]}}],\\\"doc\\\":\\\"List of identifier records that indicate the system, subsystem, and type of the various IDs used in the event.\\\",\\\"default\\\":null}]}],\\\"doc\\\":\\\"(Optional) Additional context record that contains more information about the event.\\\",\\\"default\\\":null}]}\"
              }"
  recorded_at: Tue, 10 Aug 2021 15:55:41 GMT
- request:
    method: get
    uri: http://localhost:8081/ves-event-bus-infra/schema-registry/subjects/submission_trace_mock_test-value/versions/latest
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - Vets.gov Agent
      Referer:
      - https://review-instance.va.gov
      X-Vamf-Jwt:
      - stubbed_token
      X-Request-Id:
      - ''
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Aug 2021 15:55:41 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Server:
      - openresty
      X-Vamf-Version:
      - 1.9.0
      B3:
      - e1836f37ef12a997-bd3cba28a9b29067-1
      Access-Control-Allow-Headers:
      - x-vamf-jwt
      X-Vamf-Build:
      - e208742
      X-Vamf-Timestamp:
      - '2021-08-03T18:59:01+0000'
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET,OPTIONS
      Access-Control-Max-Age:
      - '3600'
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: "{
                \"subject\": \"canary-value\",
                \"version\": 1,
                \"id\": 6,
                \"schema\": \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"TestRecord\\\",\\\"namespace\\\":\\\"gov.va.eventbus.test.data\\\",\\\"fields\\\":[{\\\"name\\\":\\\"data\\\",\\\"type\\\":{\\\"type\\\":\\\"map\\\",\\\"values\\\":\\\"string\\\"},\\\"default\\\":{}}]}\"
              }"
  recorded_at: Tue, 10 Aug 2021 15:55:41 GMT
- request:
    method: get
    uri: http://localhost:8081/ves-event-bus-infra/schema-registry/subjects/submission_trace_form_status_change-value/versions/1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - Vets.gov Agent
      Referer:
      - https://review-instance.va.gov
      X-Vamf-Jwt:
      - stubbed_token
      X-Request-Id:
      - ''
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 10 Aug 2021 15:55:41 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Server:
      - openresty
      X-Vamf-Version:
      - 1.9.0
      B3:
      - e1836f37ef12a997-bd3cba28a9b29067-1
      Access-Control-Allow-Headers:
      - x-vamf-jwt
      X-Vamf-Build:
      - e208742
      X-Vamf-Timestamp:
      - '2021-08-03T18:59:01+0000'
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET,OPTIONS
      Access-Control-Max-Age:
      - '3600'
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: "{
                  \"subject\": \"submission_trace_form_status_change-value\",
                  \"version\": 1,
                  \"id\": 7,
                  \"schema\": \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"SubmissionTrace\\\",\\\"namespace\\\":\\\"gov.va.submissiontrace.form.data\\\",\\\"fields\\\":[{\\\"name\\\":\\\"priorId\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"ID that represents a unique identifier from an upstream system\\\"},{\\\"name\\\":\\\"currentId\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"ID that represents a unique identifier in the current system\\\"},{\\\"name\\\":\\\"nextId\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"ID that represents a unique identifier in the downstream system\\\"},{\\\"name\\\":\\\"icn\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"Unique Veteran ID to identify the Veteran independently of other IDs provided\\\"},{\\\"name\\\":\\\"vasiId\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"ID that represents a unique identifier in the Veteran Affairs Systems Inventory (VASI)\\\"},{\\\"name\\\":\\\"systemName\\\",\\\"type\\\":[{\\\"type\\\":\\\"enum\\\",\\\"name\\\":\\\"SystemName\\\",\\\"symbols\\\":[\\\"Lighthouse\\\",\\\"CMP\\\",\\\"VBMS\\\",\\\"VA_gov\\\",\\\"VES\\\"]}],\\\"doc\\\":\\\"System submitting status update, e.g. va.gov\\\"},{\\\"name\\\":\\\"submissionName\\\",\\\"type\\\":[{\\\"type\\\":\\\"enum\\\",\\\"name\\\":\\\"SubmissionName\\\",\\\"symbols\\\":[\\\"F1010EZ\\\",\\\"F527EZ\\\"]}],\\\"doc\\\":\\\"Name of form that is submitted; this should be the same across systems\\\"},{\\\"name\\\":\\\"state\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"What triggered the event, mostly limited to 'received', 'sent', 'error', or 'completed' but can take other values\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"Current datetime in JS standard format ISO 8601\\\"},{\\\"name\\\":\\\"additionalIds\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"array\\\",\\\"items\\\":\\\"string\\\"}],\\\"doc\\\":\\\"(Optional) for cases when more than one current ID is appropriate\\\"},{\\\"name\\\":\\\"context\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"Context\\\",\\\"fields\\\":[{\\\"name\\\":\\\"note\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"(Optional) Explanatory note about the event\\\"},{\\\"name\\\":\\\"qualifiedIdentifiers\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"QualifiedIdentifier\\\",\\\"fields\\\":[{\\\"name\\\":\\\"system\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"System that is connected to the given ID\\\"},{\\\"name\\\":\\\"subSystem\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"(Optional) Subsystem that is connected to the given ID\\\"},{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\",\\\"doc\\\":\\\"ID value. This should correspond to either the priorId, currentId, nextId, or one of the additionalIds\\\"},{\\\"name\\\":\\\"type\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"doc\\\":\\\"(Optional) Identifier type\\\"}]}}],\\\"doc\\\":\\\"List of identifier records that indicate the system, subsystem, and type of the various IDs used in the event.\\\",\\\"default\\\":null}]}],\\\"doc\\\":\\\"(Optional) Additional context record that contains more information about the event.\\\",\\\"default\\\":null}]}\"
              }"
  recorded_at: Tue, 10 Aug 2021 15:55:41 GMT
recorded_with: VCR 6.0.0