openapi: "3.0.0"
info:
  version: 0.0.1
  title: VAOS
  description: |
    ## The API for managing Veterans Affairs Online Scheduling

    These endpoints give hooks into VAOS, an existing product suite, containing a veteran-facing healthcare appointment online scheduling tool of
    the same name (formerly named VAR - Veteran Appointment Request), a scheduler-facing appointment management tool named Schedule Manager, and a schedule configuration utility for VA facilities, named VATS (VA Tool Set).
  contact:
    name: va.gov
tags:
  - name: appointments
    description: Appointments
  - name: systems
    description: Systems
servers:
  - url: https://sandbox-api.va.gov/v0/vaos/{version}
    description: VA.gov API sandbox environment
    variables:
      version:
        default: v0
  - url: https://api.va.gov/v0/vaos/{version}
    description: VA.gov API production environment
    variables:
      version:
        default: v0
paths:
  "/appointments":
    get:
      tags:
        - appointments
      summary: Returns a list of online scheduling appointments
      operationId: getAppointments
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: type
          description: "type of appointment, e.g. 'va' or 'cc' (community care)"
          schema:
            type: string
        - in: query
          required: true
          name: start_date
          description: "start date for appointments search"
          schema:
            type: string
        - in: query
          required: true
          name: end_date
          description: "end date for appointments search"
          schema:
            type: string
      responses:
        "200":
          description: Appointments retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      oneOf:
                        - $ref: "#/components/schemas/VAAppointment"
                        - $ref: "#/components/schemas/CCAppointment"
                  meta:
                    $ref: "#/components/schemas/Pagination"
              examples:
                va_type:
                  summary: Example of a 'va' type response
                  value:
                    data:
                      type: array
                      items:
                        $ref: "#/components/schemas/VAAppointment"
                      meta:
                        $ref: "#/components/schemas/Pagination"
                cc_type:
                  summary: Example of a 'cc' type response
                  value:
                    data:
                      type: array
                      items:
                        $ref: "#/components/schemas/CCAppointment"
                      meta:
                        $ref: "#/components/schemas/Pagination"
        "207":
          description: Message body may contain multiple status codes depending on how many subrequests were made.
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
    post:
      tags:
        - appointments
      summary: Creates an appointment.
      operationId: createAppointment
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateAppBody"
      responses:
        "204":
          description: The server successfully created the appointment, and is not returning any content.
        "409":
          description: Conflict, indicates that the request could not be processed because of conflict in the current state of the appointment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Errors"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/appointments/{type}/{id}":
    get:
      tags:
        - appointments
      summary: Returns an appointment of whose id is {id}
      operationId: getAppointment
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "type"
          description: "type of appointment, e.g. 'va' or 'cc' (community care)"
          schema:
            type: string
        - in: path
          required: true
          name: id
          description: "the id of appointment"
          schema:
            type: string
      responses:
        "200":
          description: Appointment retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/VAAppointment"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/appointments/cancel":
    put:
      tags:
        - appointments
      summary: Cancels an appointment
      operationId: cancelAppointment
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: appointment_time
          description: The date and time of the appointment.
          schema:
            type: string
        - in: query
          required: true
          name: facility_id
          description: The facitlity id where the appointment was scheduled.
          schema:
            type: string
        - in: query
          required: true
          name: cancel_code
          description: The code used in cancelling the appointment.
          schema:
            type: string
        - in: query
          name: clinic_id
          description: The clinic id where the appointment was scheduled.
          schema:
            type: string
        - in: query
          name: cancel_reason
          description: The reason the appointment was cancelled.
          schema:
            type: string
        - in: query
          name: remarks
          description: Any remarks entered when cancelling the appointment.
          schema:
            type: string
        - in: query
          name: clinic_name
          description: The name of the clinic where the appointment was scheduled.
          schema:
            type: string
      responses:
        "204":
          description: The server successfully cancelled the appointment, and is not returning any content.
        "409":
          description: Conflict, indicates that the request could not be processed because of conflict in the current state of the appointment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Errors"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/appointment_requests":
    get:
      tags:
        - appointment_requests
      summary: Returns a list of appointment requests
      operationId: getAppointmentRequests
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: start_date
          description: "start date of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: end_date
          description: "end date of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: id
          description: "id of appointment"
          schema:
            type: string
      responses:
        "200":
          description: Appointment requests retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/AppointmentRequest"
                  meta:
                    $ref: "#/components/schemas/Pagination"
              examples:
                appointment_request:
                  summary: Example of an appointment request response
                  value:
                    data:
                      type: array
                      items:
                        $ref: "#/components/schemas/AppointmentRequest"
                      meta:
                        $ref: "#/components/schemas/Pagination"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
    post:
      tags:
        - appointment_requests
      summary: Returns a list of appointment requests
      operationId: postAppointmentRequests
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: option_date1
          description: "option_date1 of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: option_time1
          description: "option_time1 of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: option_date2
          description: "option_date2 of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: option_time2
          description: "option_time2 of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: option_date3
          description: "option_date3 of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: option_time3
          description: "option_time3 of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: appointment_type
          description: "type of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: visit_type
          description: "visit type of appointment"
          schema:
            type: string
        - in: query
          required: true
          name: phone_number
          description: "phone number for appointment"
          schema:
            type: string
        - in: query
          required: true
          name: facility
          description: "facility details of appointment"
          schema:
            type: object
      responses:
        "200":
          description: Appointment requests retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/AppointmentRequest"
                  meta:
                    $ref: "#/components/schemas/Pagination"
              examples:
                appointment_request:
                  summary: Example of an appointment request response
                  value:
                    data:
                      type: array
                      items:
                        $ref: "#/components/schemas/AppointmentRequest"
                      meta:
                        $ref: "#/components/schemas/Pagination"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/appointment_requests/{appointment_request_id}/messages":
    get:
      tags:
        - appointment_requests
      summary: Returns a list of messages associated with a specific user
      operationId: getMessages
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "appointment_request_id"
          description: "The id of the requested appointment messages"
          schema:
            type: string
      responses:
        "200":
          description: messages retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Message"
                  meta:
                    $ref: "#/components/schemas/Pagination"
              examples:
                appointment_request:
                  summary: Example of an appointment request response
                  value:
                    data:
                      - id: "8a4886886e4c8e22016e5bee49c30007"
                        type: "messages"
                        attributes:
                          message_text: "Testing"
                          message_date_time: "11/11/2019 12:26:13"
                          appointment_request_id: "8a4886886e4c8e22016e5bee49c30007"
                          date: "2019-11-11T12:26:13.931+0000"
                    meta:
                      pagination:
                        current_page: 0
                        per_page: 10
                        total_pages: 12
                        total_entries: 150
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
    post:
      tags:
        - appointment_requests
      summary: Returns the newly created message
      operationId: createMessage
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "appointment_request_id"
          description: "The id of the requested appointment to associate with this message"
          schema:
            type: string
      responses:
        "204":
          description: The server successfully created the appointment, and is not returning any content.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
              examples:
                appointment_request:
                  summary: Example of an appointment request response
                  value:
                    - id: "8a4886886e4c8e22016e5bee49c30007"
                      type: "messages"
                      attributes:
                        message_text: "Testing"
                        message_date_time: "11/11/2019 12:26:13"
                        appointment_request_id: "8a4886886e4c8e22016e5bee49c30007"
                        date: "2019-11-11T12:26:13.931+0000"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/cc_eligibility/{service_type}":
    get:
      tags:
        - eligibility
      summary: Returns cc eligibility status for a user
      operationId: getEligibility
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "service_type"
          description: "type of service, e.g. 'PrimaryCare' "
          schema:
            type: string
      responses:
        "200":
          description: Eligibility retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CCEligibility"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/cc_supported_sites":
    get:
      tags:
        - cc_supported_sites
      summary: Returns a list of supported sites for the user.
      operationId: getCCSupportedSites
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: supported_sites
          description: "supported sites for appointment request"
          schema:
            type: array
            items:
              type: "string"
      responses:
        "200":
          description: CC supported sites retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/CCSupportedSites"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/direct_booking_eligibility_criteria":
    get:
      tags:
        - eligibility
      summary: Returns a list of direct booking eligibility criteria
      operationId: getDirectBookingEligibilityCriteria
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: false
          name: site_codes
          schema:
            type: array
            items:
              type: string
        - in: query
          required: false
          name: parent_sites
          schema:
            type: array
            items:
              type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/DirectBookingEligibilityCriteria"
              example:
                data:
                  - can_cancel: true
                    enterprise_submitted_request_limit: 2
                    id: "372"
                    patient_history_duration: 730
                    patient_history_required: "Yes"
                    stop_codes:
                      - primary: "372"
                      - primary: "373"
                    submitted_request_limit: 2
                    type_of_care: "MOVE! program"
                  - can_cancel: true
                    enterprise_submitted_request_limit: 2
                    id: "502"
                    patient_history_duration": 0
                    patient_history_required: "No"
                    stop_codes:
                      - primary: "502"
                        secondary: "125"
                      - primary: "502"
                        secondary: "179"
                      - primary: "502"
                        secondary: "185"
                      - primary: "502"
                        secondary: "186"
                      - primary: "502"
                        secondary: "187"
                      - primary: "502"
                        secondary: "509"
                      - primary: "502"
                        secondary: "510"
                    submitted_request_limit: 2
                    type_of_care: "Outpatient Mental Health"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/facilities":
    get:
      tags:
        - facilities
      operationId: getFacilities
      summary: Returns a list of facility records for the given facility codes
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: facility_codes
          schema:
            type: array
            items:
              type: string
          example: facility_codes[]=405&facility_codes[]=516
      responses:
        "200":
          description: OK, Facility information retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Facility"
                    example:
                      - id: "405"
                        type: facility
                        attributes:
                          institution_code: "405"
                          city: White River Junction
                          state_abbrev: VT
                          authoritative_name: White River Junction VA Medical Center
                          root_station_code: "983"
                          admin_parent: true
                          parent_station_code: "405"
                      - id: "516"
                        type: facility
                        attributes:
                          institution_code: "516"
                          city: Bay Pines
                          state_abbrev: FL
                          authoritative_name: C.W. Bill Young Department of Veterans Affairs Medical Center
                          root_station_code: "983"
                          admin_parent: true
                          parent_station_code: "516"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/facilities/{facility_id}/available_appointments":
    get:
      tags:
        - facilities
      summary: Returns a list of available appointments
      operationId: availableAppointments
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "facility_id"
          description: The facility id that is being queried.
          schema:
            type: string
            example: "123"
        - in: query
          required: true
          name: start_date
          description: The start of the time window that is being queried.
          schema:
            type: string
            format: date
            example: "2021-05-17"
        - in: query
          required: true
          name: end_date
          description: The end of the time window that is being queried.
          schema:
            type: string
            format: date
            example: "2021-05-18"
        - in: query
          required: true
          name: clinic_ids
          description: The list of clinic ids that is being queried.
          schema:
            type: array
            items:
              type: integer
            example: clinic_ids[]=405&clinic_ids[]=516
      responses:
        "200":
          description: OK, returns a list of available appointment slots.
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/FacilityAvailableAppointments"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/facilities/{facility_id}/cancel_reasons":
    get:
      tags:
        - facilities
      summary: Returns a list of cancel reasons from the facility
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "facility_id"
          schema:
            type: string
      responses:
        "200":
          description: OK, returns a list of cancel reasons for the facility
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/FacilityCancelReason"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/facilities/{facility_id}/clinics":
    get:
      tags:
        - facilities
      summary: Returns a list of clinics for a given facility
      operationId: getClinics
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: facility_id
          schema:
            type: string
        - in: query
          required: true
          name: type_of_care_id
          schema:
            type: string
        - in: query
          required: true
          name: system_id
          schema:
            type: string
      responses:
        "200":
          description: Retrives a list of clincs for a given facility
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Clinic"
              example:
                data:
                  - id: "983"
                    type: "clinic"
                    attributes:
                      site_code: "983"
                      clinic_id: "308"
                      clinic_name: "CHY PC KILPATRICK"
                      clinic_friendly_location_name: "Green Team Clinic1"
                      primary_stop_code: "323"
                      secondary_stop_code: ""
                      direct_scheduling_flag: "Y"
                      display_to_patient_flag: "Y"
                      institution_name: "CHYSHR-Cheyenne VA Medical Center"
                      institution_code: "983"
                      object_type: "CdwClinic"
                  - id: "983"
                    type: "clinic"
                    attributes:
                      site_code: "983"
                      clinic_id: "455"
                      clinic_name: "CHY PC CASSIDY"
                      clinic_friendly_location_name: ""
                      primary_stop_code: "323"
                      secondary_stop_code: ""
                      direct_scheduling_flag: "Y"
                      display_to_patient_flag: "Y"
                      institution_name: "CHYSHR-Cheyenne VA Medical Center"
                      institution_code: "983"
                      object_type: "CdwClinic"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/facilities/{facility_id}/visits/{schedule_type}":
    get:
      tags:
        - facilities
      operationId: getFacilityVisits
      summary: Returns visits details for a given facility, type of care, scehdule type and site
      security:
        - bearerAuth: []
      parameters:
        - in: path
          required: true
          name: "facility_id"
          schema:
            type: "string"
          example: "688"
        - in: path
          required: true
          name: "schedule_type"
          schema:
            type: "string"
            enum: ["direct", "request"]
          example: "direct"
        - in: query
          required: true
          name: "system_id"
          schema:
            type: "string"
          description: The site_id associated with the request
          example: "688"
        - in: query
          required: true
          name: "type_of_care_id"
          schema:
            type: "string"
          example: "323"
      responses:
        "200":
          description: The visit details
          content:
            application/json:
              schema:
                required:
                  - "data"
                properties:
                  data:
                    $ref: "#/components/schemas/FacilityVisits"
              example:
                data:
                  id: "69050038-9bed-4a0a-a722-87308e80b322"
                  type: "facility_visit"
                  attributes:
                    has_visited_in_past_months: false
                    duration_in_months: 10
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/facilities/limits":
    get:
      tags:
        - facilities
      operationId: getLimitsForMultipleFacilities
      summary: Returns a list of limits for multiple facilities for the given type of care and facility ids.
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: true
          name: type_of_care_id
          example: "323"
          schema:
            type: string
        - in: query
          required: true
          name: facility_ids
          schema:
            type: array
            items:
              type: string
          example: facility_ids[]=688&facility_ids[]=442
      responses:
        "200":
          description: OK, Returns a list of request limits for the type of care for each facility id given
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/FacilityLimits"
              example:
                data:
                  - id: "688"
                    attributes:
                      number_of_requests: 0
                      request_limit: 1
                  - id: "442"
                    attributes:
                      number_of_requests: 0
                      request_limit: 1
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/preferences":
    get:
      tags:
        - preferences
      summary: Retrieves the user preferences
      operationId: getPreferences
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Preferences retrieved successfully
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    required:
                      - id
                      - type
                      - attributes
                    properties:
                      id:
                        type: string
                        example: "b2fab2b5-6af0-45e1-a9e2-394347af91ef"
                      type:
                        type: string
                        example: "preferences"
                      attributes:
                        type: object
                        required:
                          - notification_frequency
                          - email_allowed
                          - email_address
                          - text_msg_allowed
                        properties:
                          notification_frequency:
                            type: string
                            example: "Never"
                          email_allowed:
                            type: boolean
                            example: true
                          email_address:
                            type: string
                            example: "abraham.lincoln@va.gov"
                          text_msg_allowed:
                            type: boolean
                            example: false
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
    put:
      tags:
        - preferences
      summary: Updates the user's preferences
      operationId: updatePreferences
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Preferences"
      responses:
        "200":
          description: OK, updated the preferences successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Preferences"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/request_eligiblity_criteria":
    get:
      tags:
        - eligibility
      summary: Returns a list of eligibility to the veteran
      operationId: getRequestEligibilityCriteria
      security:
        - bearerAuth: []
      parameters:
        - in: query
          required: false
          name: site_codes
          schema:
            type: array
            items:
              type: string
        - in: query
          required: false
          name: parent_sites
          schema:
            type: array
            items:
              type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/RequestEligibilityCriteria"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/systems":
    get:
      tags:
        - systems
      summary: Returns a list of systems available to the veteran.
      operationId: getSystems
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Systems retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/System"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/systems/{system_id}/clinic_institutions":
    get:
      tags:
        - "systems"
      summary: "Returns an expanded clinic model with institution data which is used for finding its correct address."
      operationId: "getClinicInstitutions"
      security:
        - bearerAuth: []
      parameters:
        - in: "path"
          name: "system_id"
          schema:
            type: "integer"
          required: true
          description: "The system id for the related clinics"
      responses:
        "200":
          description: "Facilities retrieved successfully"
          content:
            application/json:
              schema:
                required:
                  - "data"
                properties:
                  data:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/ClinicInstitution"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/systems/{system_id}/direct_scheduling_facilities":
    get:
      tags:
        - "systems"
      summary: "Returns a list of facilities in which the veteran can directly schedule an appointment."
      operationId: "getDirectSchedulingFacilities"
      security:
        - bearerAuth: []
      parameters:
        - in: "path"
          name: "system_id"
          schema:
            type: "integer"
          required: true
          description: "The system id for the list of facilities"
        - in: "query"
          name: "type_of_care_id"
          schema:
            type: "string"
          required: true
          description: "The type_of_care_id for the given request"
        - in: "query"
          name: "parent_code"
          schema:
            type: "string"
          required: true
          description: "The parent_code for the given request"
      responses:
        "200":
          description: "Direct schedule facilities retrieved successfully"
          content:
            application/json:
              schema:
                required:
                  - "data"
                properties:
                  data:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/DirectSchedulingFacility"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
  "/systems/{system_id}/pact":
    get:
      tags:
        - "systems"
      summary: "Returns a list of Patient-Aligned Care Teams (PACT)."
      description: "description"
      operationId: "getAppealStatus"
      security:
        - bearerAuth: []
      parameters:
        - in: "path"
          name: "system_id"
          schema:
            type: "integer"
          required: true
          description: "the system id for the list of facilities"
      responses:
        "200":
          description: "Facilities retrieved successfully"
          content:
            application/json:
              schema:
                required:
                  - "data"
                properties:
                  data:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/PACT"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "422":
          $ref: "#/components/responses/Unprocessable"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "501":
          $ref: "#/components/responses/NotImplemented"
        "502":
          $ref: "#/components/responses/BadGateway"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
        "504":
          $ref: "#/components/responses/GatewayTimeout"
components:
  responses:
    "BadGateway":
      description: "The server was acting as a gateway or proxy and received an invalid response from the upstream server."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "BadRequest":
      description: "Bad Request, the server cannot or will not process the request due to an apparent client error."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "Conflict":
      description: "Conflict, indicates that the request could not be processed because of conflict in the current state of the appointment."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "Forbidden":
      description: "Forbidden, user does not have access to VAOS scheduling."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "GatewayTimeout":
      description: "The server was acting as a gateway or proxy and did not receive a timely response from the upstream server."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "InternalServerError":
      description: "A generic error message, given when an unexpected condition was encountered and no more specific message is suitable."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "NotFound":
      description: "Requested resource could not be found."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "NotImplemented":
      description: "The server either does not recognize the request method, or it lacks the ability to fulfil the request. Usually this implies future availability (e.g., a new feature of a web-service API)."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "ServiceUnavailable":
      description: "The server cannot handle the request (because it is overloaded or down for maintenance). Generally, this is a temporary state."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "Unauthorized":
      description: "Unauthorized"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
    "Unprocessable":
      description: "Unprocessable Entity, the request was well-formed but was unable to be followed due to parameter validation errors."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Errors"
  securitySchemes:
    bearerAuth:
      type: "http"
      scheme: "bearer"
      bearerFormat: "JWT"
  schemas:
    AppointmentRequest:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
          example: "9d82d708c71bb59a6c8a58a05fb469d7"
        type:
          type: "string"
          example: "va_appointments"
        attributes:
          required:
            - "last_updated_at"
            - "appointment_date"
            - "appointment_time"
            - "option_date1"
            - "option_time1"
            - "option_date2"
            - "option_time2"
            - "option_date3"
            - "option_time3"
            - "status"
            - "appointment_type"
            - "visit_type"
            - "facility"
            - "email"
            - "text_messaging_allowed"
            - "phone_number"
            - "purpose_of_visit"
            - "provider_id"
            - "second_request"
            - "second_request_submitted"
            - "patient"
            - "best_timeto_call"
            - "appointment_request_detail_code"
            - "has_veteran_new_message"
            - "has_provider_new_message"
            - "provider_seen_appointment_request"
            - "requested_phone_call"
            - "booked_appt_date_time"
            - "type_of_care_id"
            - "friendly_location_name"
            - "date"
            - "assigning_authority"
            - "created_date"
          properties:
            last_updated_at:
              type: "string"
              example: "2019-10-24T17:00:00Z"
            appointment_date:
              type: "string"
              example: "408"
            appointment_time:
              type: "string"
            option_date1:
              type: "string"
            option_time1:
              type: "string"
            option_date2:
              type: "string"
            option_time2:
              type: "string"
            option_date3:
              type: "string"
            option_time3:
              type: "string"
            status:
              type: "string"
            appointment_type:
              type: "string"
            visit_type:
              type: "string"
            reason_for_visit:
              type: "string"
            additional_information:
              type: "string"
            facility:
              type: "object"
              properties:
                name:
                  type: "string"
                facility_code:
                  type: "string"
                  example: "60"
                type:
                  type: "string"
                address:
                  type: "string"
                state:
                  type: "string"
                city:
                  type: "string"
                parent_site_code:
                  type: "string"
              required:
                - "name"
                - "facility_code"
                - "appointment_time"
                - "state"
                - "city"
                - "parent_site_code"
            email:
              type: "string"
            text_messaging_allowed:
              type: "boolean"
              example: true
            phone_number:
              type: "string"
            purpose_of_visit:
              type: "string"
            provider_id:
              type: "string"
            second_request:
              type: "boolean"
              example: true
            second_request_submitted:
              type: "boolean"
              example: true
            patient:
              type: "object"
              properties:
                inpatient:
                  type: "boolean"
                  example: true
                text_messaging_allowed:
                  type: "boolean"
                  example: true
              required:
                - "inpatient"
                - "text_messaging_allowed"
            best_timeto_call:
              type: "array"
              items:
                type: "string"
              example: []
            appointment_request_detail_code:
              type: "array"
              items:
                type: "object"
                properties:
                  appointment_request_detail_code_id:
                    type: "string"
                  created_date:
                    type: "string"
                  detail_code:
                    type: "object"
                    properties:
                      code:
                        type: "string"
                      provider_message:
                        type: "string"
                      veteran_message:
                        type: "string"
                    required:
                      - "code"
                      - "provider_message"
                      - "veteran_message"
                required:
                  - "appointment_request_detail_code_id"
                  - "created_date"
                  - "detail_code"
            has_veteran_new_message:
              type: "boolean"
              example: true
            has_provider_new_message:
              type: "boolean"
              example: true
            provider_seen_appointment_request:
              type: "boolean"
              example: true
            request_phone_call:
              type: "boolean"
              example: true
            booked_appt_date_time:
              type: "string"
            type_of_care_id:
              type: "string"
            friendly_location_name:
              type: "string"
            cc_appointment_request:
              $ref: "#/components/schemas/CCAppointmentRequest"
            date:
              type: "string"
            assinging_authority:
              type: "string"
            created_date:
              type: "string"
    AppointmentTimeSlot:
      type: "object"
      required:
        - "start_date_time"
        - "end_date_time"
        - "booking_status"
        - "remaining_allowed_over_bookings"
        - "availability"
      properties:
        start_date_time:
          type: "string"
          format: "date"
          example: "12/02/2019 13:30:00"
        end_date_time:
          type: "string"
          format: "date"
          example: "12/02/2019 14:00:00"
        booking_status:
          type: "string"
          example: "1"
        remaining_allowed_over_bookings:
          type: "string"
          example: "2"
        availability:
          type: "boolean"
          example: true
    CCAppointment:
      type: "object"
      properties:
        id:
          type: "string"
          example: "8a48912a6c2409b9016c29cbeed0006a"
        type:
          type: "string"
          example: "cc_appointments"
        attributes:
          type: "object"
          required:
            - "appointment_request_id"
            - "distance_eligible_confirmed"
            - "name"
            - "provider_practice"
            - "provider_phone"
            - "address"
            - "instructions_to_veteran"
            - "appointment_time"
            - "time_zone"
          properties:
            appointment_request_id:
              type: "string"
              example: "8a48912a6c2409b9016c29cbeed0006a"
            distance_eligible_confirmed:
              type: "boolean"
              example: true
            name:
              type: "object"
              required:
                - "first_name"
                - "last_name"
              properties:
                first_name:
                  type: "string"
                  example: "John"
                last_name:
                  type: "string"
                  example: "Doe"
            provider_practice:
              type: "string"
              example: "test"
            provider_phone:
              type: "string"
              example: "(321) 230-0328"
            address:
              type: "object"
              required:
                - "street"
                - "city"
                - "state"
                - "zip_code"
              properties:
                street:
                  type: "string"
                  example: "test"
                city:
                  type: "string"
                  example: "test"
                state:
                  type: "string"
                  example: "MA"
                zip_code:
                  type: "string"
                  example: "32826"
            instructions_to_veteran:
              type: "string"
            appointment_time:
              type: "string"
              example: "09/20/2020 16:29:00"
            time_zone:
              type: "string"
              example: "-04:00 EDT"
    CCAppointmentRequest:
      type: "object"
      required:
        - "data_identifier"
        - "has_veteran_new_message"
        - "preferred_state"
        - "preferred_city"
        - "preferred_language"
        - "preferred_zip_code"
        - "distance_willing_to_travel"
        - "distance_eligible"
        - "office_hours"
        - "preferred_providers"
      properties:
        data_identifier:
          type: "object"
        has_veteran_new_message:
          type: "boolean"
          example: true
        preferred_state:
          type: "string"
        preferred_city:
          type: "string"
        preferred_zip_code:
          type: "string"
        preferred_language:
          type: "string"
        distance_willing_to_travel:
          type: "integer"
          example: "25"
        distance_eligible:
          type: "boolean"
          example: true
        office_hours:
          type: "array"
          items:
            type: "string"
          example: []
        preferred_providers:
          type: "array"
          items:
            type: "object"
            required:
              - "first_name"
              - "last_name"
              - "practice_name"
              - "address"
              - "preferred_order"
              - "object_type"
              - "link"
            properties:
              first_name:
                type: "string"
              last_name:
                type: "string"
              practice_name:
                type: "string"
              address:
                type: "object"
              preferred_order:
                type: "integer"
              object_type:
                type: "string"
              link:
                type: "array"
                items:
                  type: "object"
    CCEligibility:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
        type:
          type: "string"
        attributes:
          type: "object"
          properties:
            eligible:
              type: "boolean"
              example: true
    CCSupportedSites:
      type: "object"
      required:
        - "data"
      properties:
        data:
          type: "array"
          items:
            type: "object"
            required:
              - "id"
              - "type"
              - "attributes"
            properties:
              id:
                type: "string"
              type:
                type: "string"
              attributes:
                type: "object"
                properties:
                  name:
                    type: "string"
                  timezone:
                    type: "string"
                required:
                  - "name"
                  - "timezone"
    Clinic:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
        type:
          type: "string"
        attributes:
          type: "object"
          required:
            - "site_code"
            - "clinic_id"
            - "clinic_name"
            - "clinic_friendly_location_name"
            - "primary_stop_code"
            - "secondary_stop_code"
            - "direct_scheduling_flag"
            - "display_to_patient_flag"
            - "institution_name"
            - "institution_code"
            - "object_type"
          properties:
            site_code:
              type: "string"
            clinic_id:
              type: "string"
            clinic_name:
              type: "string"
            clinic_friendly_location_name:
              type: "string"
            primary_stop_code:
              type: "string"
            secondary_stop_code:
              type: "string"
            direct_scheduling_flag:
              type: "string"
            display_to_patient_flag:
              type: "string"
            institution_name:
              type: "string"
            institution_code:
              type: "string"
            object_type:
              type: "string"
    ClinicInstitution:
      type: "object"
      properties:
        id:
          type: "string"
          example: "16"
        type:
          type: "string"
          example: "clinic_institution"
        attributes:
          type: "object"
          required:
            - "location_ien"
            - "institution_sid"
            - "institution_ien"
            - "institution_name"
            - "institution_code"
          properties:
            location_ien:
              type: "string"
              example: "16"
            institution_sid:
              type: "number"
              example: 561596
            institution_ien:
              type: "string"
              example: "442"
            institution_name:
              type: "string"
              example: "CHEYENNE VA MEDICAL"
            institution_code:
              type: "string"
              example: "442"
    CreateAppBody:
      type: "object"
      properties:
        scheduling_request_type:
          type: string
          example: "NEXT_AVAILABLE_APPT"
        type:
          type: string
          example: "REGULAR"
        appointment_kind:
          type: string
          example: "TRADITIONAL"
        appointment_type:
          type: string
          example: "Primary Care"
        scheduling_method:
          type: string
          example: "direct"
        appt_type:
          type: string
          example: "P"
        purpose:
          type: string
          example: "9"
        lvl:
          type: string
          example: "1"
        ekg:
          type: string
          example: ""
        lab:
          type: string
          example: ""
        x_ray:
          type: string
          example: ""
        desired_date:
          type: string
          example: "2020-02-07T00:00:00.000+00:00"
        date_time:
          type: string
          example: "2020-02-07T21:00:00.000+00:00"
        duration:
          type: integer
          example: 30
        booking_notes:
          type: string
          example: "Follow-up/Routine: abdominal pain"
        preferred_email:
          type: string
          example: "test@va.gov"
        time_zone:
          type: string
          example: "America/Denver"
        clinic:
          type: "object"
          properties:
            site_code:
              type: string
              example: "983"
            clinic_id:
              type: string
              example: "308"
            clinic_name:
              type: string
              example: "CHY PC KILPATRICK"
            clinic_friendly_location_name:
              type: string
              example: "Green Team Clinic1"
            institution_name:
              type: string
              example: "CHYSHR-Cheyenne VA Medical Center"
            institution_code:
              type: string
              example: "983"
    DirectBookingEligibilityCriteria:
      type: object
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
        type:
          type: string
        attributes:
          type: object
          required:
            - core_settings
          properties:
            core_settings:
              type: array
              items:
                type: object
                required:
                  - id
                  - type_of_care
                  - stop_codes
                  - submitted_request_limit
                  - enterprise_submitted_request_limit
                properties:
                  id:
                    type: string
                  type_of_care:
                    type: string
                  patient_history_required:
                    type: string
                  patient_history_duration:
                    type: integer
                  stop_codes:
                    type: array
                    items:
                      type: object
                      required:
                        - primary
                      properties:
                        primary:
                          type: string
                        secondary:
                          type: string
                  can_cancel:
                    type: boolean
                  submitted_request_limit:
                    type: integer
                  enterprise_submitted_request_limit:
                    type: integer
    DirectSchedulingFacility:
      type: "object"
      properties:
        id:
          type: "string"
        type:
          type: "string"
        attributes:
          type: "object"
          required:
            - "institution_code"
            - "city"
            - "state_abbrev"
            - "authoritative_name"
            - "root_station_code"
            - "admin_parent"
            - "parent_station_code"
            - "request_supported"
            - "direct_scheduling_supported"
            - "express_times"
            - "institution_timezone"
          properties:
            institution_code:
              type: "string"
              example: "688"
            city:
              type: "string"
              example: "Washington"
            state_abbrev:
              type: "string"
              example: "DC"
            authoritative_name:
              type: "string"
              example: "Washington VA Medical Center"
            root_station_code:
              type: "string"
              example: "688"
            admin_parent:
              type: "boolean"
              example: true
            parent_station_code:
              type: "string"
              example: "688"
            request_supported:
              type: "boolean"
              example: true
            direct_scheduling_supported:
              type: "boolean"
              example: true
            institution_timezone:
              type: "string"
              example: "America/New_York"
    Errors:
      required:
        - "errors"
      properties:
        errors:
          type: "array"
          items:
            type: "object"
            properties:
              status:
                type: "string"
              code:
                type: "string"
              title:
                type: "string"
              detail:
                type: "string"
    Facility:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
        type:
          type: "string"
        attributes:
          type: "object"
          required:
            - "institution_code"
            - "city"
            - "state_abbrev"
            - "authoritative_name"
            - "root_station_code"
            - "admin_parent"
            - "parent_station_code"
          properties:
            institution_code:
              type: "string"
            city:
              type: "string"
            state_abbrev:
              type: "string"
            authoritative_name:
              type: "string"
            root_station_code:
              type: "string"
            admin_parent:
              type: "boolean"
            parent_station_code:
              type: "string"
    FacilityAvailableAppointments:
      type: object
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
          example: "1"
        type:
          type: string
          example: "available_appointment"
        attributes:
          type: object
          required:
            - clinic_id,
            - clinic_name
            - appointment_length
            - clinic_display_start_time
            - display_increments
            - stop_code
            - ask_for_check_in
            - max_overbooks_per_day
            - has_user_access_to_clinic
            - primary_stop_code
            - secondary_stop_code
            - list_size
            - empty
            - appointment_time_slot
          properties:
            clinic_id:
              type: string
              example: "2276"
            clinic_name:
              type: string
              example: "DC/PACT GREEN FOUR"
            appointment_length:
              type: integer
              example: 30
            clinic_display_start_time:
              type: string
              example: "7"
            display_increments:
              type: string
              example: "2"
            stop_code:
              type: string
              example: "282"
            ask_for_check_in:
              type: boolean
              example: true
            max_overbooks_per_day:
              type: integer
              example: 30
            has_user_access_to_clinic:
              type: boolean
              example: false
            primary_stop_code:
              type: string
              example: "323"
            secondary_stop_code:
              type: string
              example: "124"
            list_size:
              type: integer
              example: 123
            empty:
              type: boolean
              example: true
            appointment_time_slot:
              type: array
              items:
                $ref: "#/components/schemas/AppointmentTimeSlot"
    FacilityCancelReason:
      type: object
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
          example: "1"
        type:
          type: string
          example: "cancel_reason"
        attributes:
          type: object
          required:
            - number
            - text
            - type
            - inactive
          properties:
            number:
              type: string
              example: "1"
            text:
              type: string
              example: "WEATHER"
            type:
              type: string
              example: "B"
            inactive:
              type: boolean
              example: false
    FacilityLimits:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
          example: "688"
        type:
          type: "string"
          example: "limit"
        attributes:
          type: "object"
          required:
            - "request_limit"
            - "number_of_requests"
          properties:
            request_limit:
              type: "integer"
              example: 1
            number_of_requests:
              type: "integer"
              example: 0
    FacilityVisits:
      type: object
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
          example: "69050038-9bed-4a0a-a722-87308e80b322"
        type:
          type: "string"
          example: "facility_visit"
        attributes:
          required:
            - "has_visited_in_past_months"
            - "duration_in_months"
          properties:
            has_visited_in_past_months:
              type: boolean
              example: true
            duration_in_months:
              type: integer
              example: 1
    Message:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
          example: "8a4886886e4c8e22016e5bee49c30007"
        type:
          type: "string"
          example: "messages"
        attributes:
          required:
            - "message_text"
            - "message_date_time"
            - "appointment_request_id"
            - "date"
          properties:
            message_text:
              type: "string"
              example: "Testing"
            message_date_time:
              type: "string"
              format: "date"
              example: "11/11/2019 12:26:13"
            appointment_request_id:
              type: "string"
              example: "8a4886886e4c8e22016e5bee49c30007"
            date:
              type: "string"
              format: "date"
              example: "2019-11-11T12:26:13.931+0000"
    PACT:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
          example: "3780868"
        type:
          type: "string"
          example: "system_pact"
        attributes:
          type: "object"
          required:
            - "facility_id"
            - "possible_primary"
            - "provider_position"
            - "provider_sid"
            - "staff_name"
            - "team_name"
            - "team_purpose"
            - "team_sid"
            - "title"
          properties:
            facility_id:
              type: "string"
              example: "688"
            possible_primary:
              type: "string"
              example: "Y"
            provider_position:
              type: "string"
              example: "GREEN-FOUR PHYSICIAN"
            provider_sid:
              type: "string"
              example: "3780868"
            staff_name:
              type: "string"
              example: "VASSALL,NATALIE M"
            team_name:
              type: "string"
              example: "GREEN-FOUR"
            team_purpose:
              type: "string"
              example: "PRIMARY CARE"
            team_sid:
              type: "string"
              example: "1400018881"
            title:
              type: "string"
              example: "PHYSICIAN-ATTENDING"
    Pagination:
      type: "object"
      required:
        - "pagination"
      properties:
        pagination:
          type: "object"
          required:
            - "current_page"
            - "per_page"
            - "total_pages"
            - "total_entries"
          properties:
            current_page:
              type: "number"
              example: 0
            per_page:
              type: "number"
              example: 0
            total_pages:
              type: "number"
              example: 0
            total_entries:
              type: "number"
              example: 0
    Preferences:
      type: "object"
      required:
        - notification_frequency
      properties:
        notification_frequency:
          type: string
          example: "Each new message"
        email_allowed:
          type: boolean
          example: true
        email_address:
          type: string
          example: "abraham.lincoln@va.gov"
        text_msg_allowed:
          type: boolean
          example: false
        text_msg_ph_number:
          type: string
          example: ""
    RequestEligibilityCriteria:
      type: "object"
      required:
        - "id"
        - "type"
        - "attributes"
      properties:
        id:
          type: "string"
          example: "442"
        type:
          type: "string"
          example: "request_eligibility_criteria"
        attributes:
          type: "object"
          required:
            - "request_settings"
            - "custom_request_settings"
          properties:
            request_settings:
              type: "array"
              items:
                type: "object"
                required:
                  - "id"
                  - "type_of_care"
                  - "stop_codes"
                  - "submitted_request_limit"
                  - "enterprise_submitted_request_limit"
              properties:
                id:
                  type: "string"
                  example: "203"
                type_of_care:
                  type: "string"
                  example: "Audiology"
                patient_history_required:
                  type: "string"
                  example: "No"
                patient_history_duration:
                  type: "integer"
                  example: "0"
                stop_codes:
                  type: "array"
                  items:
                    type: "object"
                    required:
                      - "primary"
                    properties:
                      primary:
                        type: "string"
                        example: "203"
                submitted_request_limit:
                  type: "integer"
                  example: "2"
                enterprise_submitted_request_limit:
                  type: "integer"
                  example: "2"
            custom_request_setting:
              type: "array"
              items:
                type: "object"
                required:
                  - "id"
                  - "type_of_care"
                  - "submitted_request_limit"
                  - "enterprise_submitted_request_limit"
                  - "supported"
                  - "scheduling_days"
                properties:
                  id:
                    type: "string"
                    example: "CR1"
                  type_of_care:
                    type: "string"
                    example: "Express Care"
                  submitted_request_limit:
                    type: "integer"
                    example: "2"
                  enterprise_submitted_request_limit:
                    type: "integer"
                    example: "2"
                  supported:
                    type: "boolean"
                    example: true
                  scheduling_days:
                    type: "array"
                    items:
                      type: "object"
                      required:
                        - "day"
                        - "can_schedule"
                      properties:
                        day:
                          type: "string"
                          example: "SUNDAY"
                        can_schedule:
                          type: "boolean"
                          example: false
    System:
      type: "object"
      properties:
        id:
          type: "string"
          example: "12345748"
        type:
          type: "string"
          example: "system"
        attributes:
          type: "object"
          required:
            - "unique_id"
            - "assigning_authority"
            - "assigning_code"
            - "id_status"
          properties:
            unique_id:
              type: "string"
              example: "12345748"
            assigning_authority:
              type: "string"
              example: "UNKNOWN"
            assigning_code:
              type: "string"
              example: "200MHS"
            id_status:
              type: "string"
              example: "ACTIVE"
    VAAppointment:
      type: "object"
      properties:
        id:
          type: "string"
          example: "9d82d708c71bb59a6c8a58a05fb469d7"
        type:
          type: "string"
          example: "va_appointments"
        attributes:
          type: "object"
          required:
            - "start_date"
            - "clinic_id"
            - "clinic_friendly_name"
            - "facility_id"
            - "community_care"
            - "vds_appointments"
            - "vvs_appointments"
          properties:
            start_date:
              type: "string"
              example: "2019-10-24T17:00:00Z"
            clinic_id:
              type: "string"
              example: "408"
            clinic_friendly_name:
              type: "string"
              example: "Main St. Clinic"
            facility_id:
              type: "string"
              example: "983"
            community_care:
              type: "boolean"
              example: false
            vds_appointments:
              type: "array"
              items:
                $ref: "#/components/schemas/VDSAppointment"
            vvs_appointments:
              type: "array"
              items:
                $ref: "#/components/schemas/VVSAppointment"
        meta:
          type: "object"
          required:
            - "pagination"
          properties:
            pagination:
              $ref: "#/components/schemas/Pagination"
    VDSAppointment:
      type: "object"
      properties:
        booking_note:
          type: "string"
          example: "Testing the direct schedule"
        appointment_length:
          type: "string"
          example: "60"
        appointment_time:
          type: "string"
          example: "2019-10-24T17:00:00Z"
        clinic:
          type: "object"
          required:
            - "name"
            - "ask_for_check_in"
            - "facility_code"
          properties:
            name:
              type: "string"
              example: "OPTOMETRY - GRUBBS"
            ask_for_check_in:
              type: "boolean"
              example: false
            facility_code:
              type: "string"
              example: "983"
        type:
          type: "string"
          example: "REGULAR"
        current_status:
          type: "string"
          example: "NO ACTION TAKEN/TODAY"
    VVSAppointment:
      type: "object"
      required:
        - "id"
        - "appointment_kind"
        - "source_system"
        - "date_time"
        - "desired_date"
        - "duration"
        - "status"
        - "scheduling_request_type"
        - "type"
        - "instruction"
        - "instructions_other"
        - "instructions_title"
        - "patients"
        - "providers"
        - "group_appointment"
      properties:
        id:
          type: "string"
          example: "f6ef7763-ab1f-426d-8764-9ee7c7b9b90c"
        appointment_kind:
          type: "string"
          example: "ADHOC"
        source_system:
          type: "string"
          example: "PV"
        date_time:
          type: "string"
          format: "date"
          example: "2020-06-10T17:00:00Z"
        desired_date:
          type: "string"
          format: "date"
          example: "2020-06-10T17:00:00Z"
        duration:
          type: "integer"
          example: 20
        status:
          type: object
          required:
            - "description"
            - "code"
          properties:
            description:
              type: "string"
              example: "F"
            code:
              type: "string"
              example: "FUTURE"
        scheduling_request_type:
          type: "string"
          example: "NEXT_AVAILABLE_APPT"
        type:
          type: "string"
          example: "REGULAR"
        instruction:
          type: "string"
          example: "The VA is excited to offer you this upcoming appointment using video telehealth. &nbsp;The Virtual Medical Room platform is..."
        instructions_other:
          type: "boolean"
          example: "false"
        instructions_title:
          type: "string"
          example: "Video Visit Preparation"
        patients:
          type: "array"
          items:
            type: "object"
            required:
              - "name"
              - "contact_information"
              - "location"
              - "patient_appointment"
              - "virtual_meeting_room"
            properties:
              name:
                type: "object"
                required:
                  - "first_name"
                  - "last_name"
                properties:
                  first_name:
                    type: "string"
                    example: "JUDY"
                  last_name:
                    type: "string"
                    example: "MORRISON"
              contact_information:
                type: "object"
                required:
                  - "mobile"
                  - "preferred_email"
                  - "time_zone"
                  - "time_zone_name"
                properties:
                  mobile:
                    type: "string"
                    example: "8888888888"
                  preferred_email:
                    type: "string"
                    example: "Aarathi.poldass@va.gov"
                  time_zone:
                    type: "string"
                    example: "10"
                  time_zone_name:
                    type: "string"
                    example: "America/Denver"
              location:
                type: "object"
                required:
                  - type
                  - facility
                properties:
                  type:
                    type: "string"
                    example: "NonVA"
                  facility:
                    type: "object"
                    required:
                      - name
                      - site_code
                      - time_zone
                      - time_zone_name
                    properties:
                      name:
                        type: "string"
                        example: "CHEYENNE VAMC"
                      site_code:
                        type: "string"
                        example: "983"
                      time_zone:
                        type: "string"
                        example: "10"
                      time_zone_name:
                        type: "string"
                        example: "America/Denver"
              patient_appointment:
                type: "boolean"
                example: true
              virtual_meeting_room:
                type: "object"
                required:
                  - "conference"
                  - "pin"
                  - "url"
                properties:
                  conference:
                    type: "string"
                    example: "VAC00000516"
                  pin:
                    type: "string"
                    example: "3738665264#"
                  url:
                    type: "string"
                    example: "https://care2.evn.va.gov/vvc-app/?join=1&media=1&escalate=1&conference=VAC00000516@care2.evn.va.gov&pin=3738665264#"
        providers:
          type: "array"
          items:
            type: "object"
            required:
              - "name"
              - "contact_information"
              - "location"
              - "virtual_meeting_room"
            properties:
              name:
                type: "object"
                required:
                  - "first_name"
                  - "last_name"
                properties:
                  first_name:
                    type: "string"
                    example: "JUDY"
                  last_name:
                    type: "string"
                    example: "MORRISON"
                  contact_information:
                    type: "object"
                    required:
                      - "mobile"
                      - "preferred_email"
                      - "time_zone"
                      - "time_zone_name"
                    properties:
                      mobile:
                        type: "string"
                        example: "8888888888"
                      preferred_email:
                        type: "string"
                        example: "Aarathi.poldass@va.gov"
                      time_zone:
                        type: "string"
                        example: "10"
                      time_zone_name:
                        type: "string"
                        example: "America/Denver"
                  location:
                    type: "object"
                    required:
                      - type
                      - facility
                    properties:
                      type:
                        type: "string"
                        example: "NonVA"
                      facility:
                        type: "object"
                        required:
                          - name
                          - site_code
                          - time_zone
                          - time_zone_name
                        properties:
                          name:
                            type: "string"
                            example: "CHEYENNE VAMC"
                          site_code:
                            type: "string"
                            example: "983"
                          time_zone:
                            type: "string"
                            example: "10"
                          time_zone_name:
                            type: "string"
                            example: "America/Denver"
                  virtual_meeting_room:
                    type: "object"
                    required:
                      - "conference"
                      - "pin"
                      - "url"
                    properties:
                      conference:
                        type: "string"
                        example: "VAC00000516"
                      pin:
                        type: "string"
                        example: "3738665264#"
                      url:
                        type: "string"
                        example: "https://care2.evn.va.gov/vvc-app/?join=1&media=1&escalate=1&conference=VAC00000516@care2.evn.va.gov&pin=3738665264#"
        group_appointment:
          type: "boolean"
          example: false
