PreCommit:
  # Check if local Gemfile.lock matches Gemfile when either changes, unless
  # Gemfile.lock is ignored by git.
  BundleCheck:
    enabled: true

  FixMe:
    enabled: true

  ForbiddenBranches:
    enabled: true
    branch_patterns:
      - 'master'
      - 'production'
      - 'release-*'

  LocalPathsInGemfile:
    enabled: true

  InternalAddresses:
    enabled: true

  RuboCop:
    enabled: true
    on_warn: fail # Treat all warnings as failures
    command: ['bundle', 'exec', 'rubocop']
    exclude:
      - 'Gemfile'

  TrailingWhitespace:
    enabled: true
    exclude:
      - '**/db/structure.sql' # Ignore trailing whitespace in generated files
      - '**/*.yml'
      - '**/*.yml.example'
      - '**/*.md'

  YamlSyntax:
    enabled: true

PrePush:
  # Prevents destructive updates to specified branches.
  ProtectedBranches:
    enabled: true
    branch_patterns:
      - 'master'
      - 'production'
      - 'release-*'

  Brakeman:
    enabled: true
    command: ['bundle', 'exec', 'brakeman']

PostCheckout:
  ALL: # Special hook name that customizes all hooks of this type
    quiet: true # Change all post-checkout hooks to only display output on failure

  BundleInstall:
    enabled: true
    quiet: false

PostRewrite:
  BundleInstall:
    enabled: true
    quiet: false
